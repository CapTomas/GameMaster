<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameMaster Client</title>
</head>

<body>

<div class="container">
    <h2>GameMaster Client</h2>

    <!-- Authentication / Registration section -->
    <div class="neu-card">
        <div class="toggle-section"  style="margin: 0 30%; display:flex; align-items:center; justify-content:center;">
            <button class="toggle-button auth-button" onclick="switchMode('auth')">Login</button>
            <button class="toggle-button reg-button" style="display: none;" onclick="switchMode('register')">Registration</button>
        </div>
        
        <div class="auth-section" style="display: none;">
            <h3>Login</h3>
            <div class="input-group">
                <label for="authUsername">Username:</label>
                <input type="text" id="authUsername">
            </div>
            <div class="input-group">
                <label for="authPassword">Password:</label>
                <input type="password" id="authPassword">
            </div>
            <button onclick="authenticate()">Login</button>        
        </div>
        
        <div class="reg-section" style="display: none;">
            <h3>Registration</h3>
            <div class="input-group">
                <label for="regUsername">Username:</label>
                <input type="text" id="regUsername">
            </div>
            <div class="input-group">
                <label for="regPassword">Password:</label>
                <input type="password" id="regPassword">
            </div>
            <button onclick="register()">Registration</button>        
        </div>
    </div>

    <!-- Chat Interface -->
    <div class="neu-card">
        <h3>Chat with the GM</h3>
        <div id="chatBox" class="chat-box"></div>
        <input type="text" id="chatInput" placeholder="Type your message...">
        <button id="sendButton" onclick="sendMessageToBot()">Send</button>
        <button id="recordButton" onclick="toggleRecording()"><i class="fas fa-microphone"></i></button>
    </div>

    <!-- Link to Character Creation -->
    <div class="neu-card">
        
        <a href="creation.html" style="margin:5px 30%; display:flex; align-items:center; justify-content:center;">Create a new character</a>
    </div>


    <!-- Log Section -->
    <div class="neu-card">
        <h3>Logs</h3>
        <textarea id="log" rows="10" cols="50" readonly></textarea>
    </div>
</div>

<script src="js/client.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/recorderjs/0.1.0/recorder.min.js"></script>
</body>

</html>
